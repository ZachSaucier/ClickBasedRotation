function t(t,s){var n=s.dataset,i=n.rotType||"realistic",a=s.clientWidth,p=s.clientHeight,c=t.clientX-s.offsetLeft+document.body.scrollLeft,l=t.clientY-s.offsetTop+document.body.scrollTop,f=a/2,m=p/2;if("realistic"==i){var d,g=f-c,u=m-l,y=f+m,b=Math.abs(g)+Math.abs(u);console.log(c+" "+l),d=0>u&&0>g||u>=0&&g>=0?"translateZ("+-(y-b)/8+"px) rotateY("+-g/8+"deg) rotateX("+u/4+"deg)":"translateZ("+-(y-b)/8+"px) rotateY("+-g/8+"deg) rotateX("+u/4+"deg)",r(s,d)}else if("simple"==i){var T=Math.max(a,p),v=n.rotOrigin||"center center";f+a/8>=c&&c>=f-a/8&&m+p/8>=l&&l>=m-p/8?e(s,"c"):p/2>=l?a/2>=c?c>=l?(e(s,"t"),"opposite"==v&&o(s,"bottom center")):(e(s,"l"),"opposite"==v&&o(s,"right center")):T>=c+l?(e(s,"t"),"opposite"==v&&o(s,"bottom center")):(e(s,"r"),"opposite"==v&&o(s,"left center")):a/2>=c?T>=c+l?(e(s,"l"),"opposite"==v&&o(s,"right center")):(e(s,"b"),"opposite"==v&&o(s,"top center")):c-a/2>=l-p/2?(e(s,"r"),"opposite"==v&&o(s,"left center")):(e(s,"b"),"opposite"==v&&o(s,"top center"))}}function e(t,e){var o=t.dataset.rotAmount||15;"c"==e?r(t,"translateZ(-"+o+"px)"):"t"==e?r(t,"rotateX("+o+"deg)"):"r"==e?r(t,"rotateY("+o+"deg)"):"b"==e?r(t,"rotateX(-"+o+"deg)"):"l"==e&&r(t,"rotateY(-"+o+"deg)")}function r(t,e){t.style.webkitTransform="perspective("+(t.getAttribute("data-rot-perspective")||400)+") "+e,t.style.MozTransformTransform="perspective("+(t.getAttribute("data-rot-perspective")||400)+") "+e,t.style.msTransform="perspective("+(t.getAttribute("data-rot-perspective")||400)+") "+e,t.style.OTransform="perspective("+(t.getAttribute("data-rot-perspective")||400)+") "+e,t.style.transform="perspective("+(t.getAttribute("data-rot-perspective")||400)+") "+e}function o(t,e){t.style.webkitTransformOrigin=e,t.style.MozTransformTransformOrigin=e,t.style.msTransformOrigin=e,t.style.OTransformOrigin=e,t.style.transformOrigin=e}for(var s,n=document.getElementsByClassName("rot-dir"),i=!1,a=0;a<n.length;a++){var p=n[a].dataset,c=p.rotDur||.1,l=p.rotEase||"ease-out",f=p.rotOrigin||"center center";n[a].style.webkitTransition="-webkit-transform "+c+"s "+l,n[a].style.MozTransition="-moz-transform "+c+"s "+l,n[a].style.msTransition="-ms-transform "+c+"s "+l,n[a].style.OTransition="-o-transform "+c+"s "+l,n[a].style.transition="transform "+c+"s "+l,o(n[a],f),n[a].onmousedown=function(e){i||(i=!0,t(e,this),s=this)}}document.body.onmouseup=function(){r(s,"rotate(0)"),i=!1};