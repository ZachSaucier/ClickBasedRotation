function dRotate(t,e){var r=e.dataset,a=r.rotType||"realistic",s=e.clientWidth,o=e.clientHeight,n=t.clientX-e.offsetLeft+document.body.scrollLeft,i=t.clientY-e.offsetTop+document.body.scrollTop,d=s/2,p=o/2;if("realistic"==a){var m,c=d-n,l=p-i,f=d+p,g=Math.abs(c)+Math.abs(l);console.log(n+" "+i),m=0>l&&0>c||l>=0&&c>=0?"translateZ("+-(f-g)/8+"px) rotateY("+-c/8+"deg) rotateX("+l/4+"deg)":"translateZ("+-(f-g)/8+"px) rotateY("+-c/8+"deg) rotateX("+l/4+"deg)",trans(e,m)}else if("simple"==a){var u=Math.max(s,o),O=r.rotOrigin||"center center";d+s/8>=n&&n>=d-s/8&&p+o/8>=i&&i>=p-o/8?rotate(e,"c"):o/2>=i?s/2>=n?n>=i?(rotate(e,"t"),"opposite"==O&&transO(e,"bottom center")):(rotate(e,"l"),"opposite"==O&&transO(e,"right center")):u>=n+i?(rotate(e,"t"),"opposite"==O&&transO(e,"bottom center")):(rotate(e,"r"),"opposite"==O&&transO(e,"left center")):s/2>=n?u>=n+i?(rotate(e,"l"),"opposite"==O&&transO(e,"right center")):(rotate(e,"b"),"opposite"==O&&transO(e,"top center")):n-s/2>=i-o/2?(rotate(e,"r"),"opposite"==O&&transO(e,"left center")):(rotate(e,"b"),"opposite"==O&&transO(e,"top center"))}}function rotate(t,e){var r=t.dataset.rotAmount||15;"c"==e?trans(t,"translateZ(-"+r+"px)"):"t"==e?trans(t,"rotateX("+r+"deg)"):"r"==e?trans(t,"rotateY("+r+"deg)"):"b"==e?trans(t,"rotateX(-"+r+"deg)"):"l"==e&&trans(t,"rotateY(-"+r+"deg)")}function trans(t,e){t.style.webkitTransform="perspective("+(t.getAttribute("data-rot-perspective")||400)+") "+e,t.style.MozTransformTransform="perspective("+(t.getAttribute("data-rot-perspective")||400)+") "+e,t.style.msTransform="perspective("+(t.getAttribute("data-rot-perspective")||400)+") "+e,t.style.OTransform="perspective("+(t.getAttribute("data-rot-perspective")||400)+") "+e,t.style.transform="perspective("+(t.getAttribute("data-rot-perspective")||400)+") "+e}function transO(t,e){t.style.webkitTransformOrigin=e,t.style.MozTransformTransformOrigin=e,t.style.msTransformOrigin=e,t.style.OTransformOrigin=e,t.style.transformOrigin=e}for(var drs=document.getElementsByClassName("rot-dir"),isAnimating=!1,animElem,i=0;i<drs.length;i++){var dataSet=drs[i].dataset,duration=dataSet.rotDur||.1,ease=dataSet.rotEase||"ease-out",transOrigin=dataSet.rotOrigin||"center center";drs[i].style.webkitTransition="-webkit-transform "+duration+"s "+ease,drs[i].style.MozTransition="-moz-transform "+duration+"s "+ease,drs[i].style.msTransition="-ms-transform "+duration+"s "+ease,drs[i].style.OTransition="-o-transform "+duration+"s "+ease,drs[i].style.transition="transform "+duration+"s "+ease,transO(drs[i],transOrigin),drs[i].onmousedown=function(t){isAnimating||(isAnimating=!0,dRotate(t,this),animElem=this)}}document.body.onmouseup=function(){trans(animElem,"rotate(0)"),isAnimating=!1};